<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Star Wars Vehicles Redux</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>SWVR</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Installation">Installation </a></li>
<li><a href="#Creating_New_Vehicles">Creating New Vehicles </a></li>
<li><a href="#Configuration">Configuration </a></li>
<li><a href="#Settings">Settings </a></li>
<li><a href="#Seats">Seats </a></li>
<li><a href="#Weapons">Weapons </a></li>
<li><a href="#Effects">Effects </a></li>
</ul>


<h2>Manual</h2>
<ul class="nowrap">
  <li><strong>README</strong></li>
</ul>
<h2>Libraries</h2>
<ul class="nowrap">
  <li><a href="../libraries/swvr.html">swvr</a></li>
  <li><a href="../libraries/Player.html">Player</a></li>
  <li><a href="../libraries/Vehicle.html">Vehicle</a></li>
</ul>

</div>

<div id="content">

    <h1>Star Wars Vehicles Redux</h1>

<p><a href="https://travis-ci.org/star-wars-vehicles/star-wars-vehicles-redux"><img src="https://travis-ci.org/star-wars-vehicles/star-wars-vehicles-redux.svg?branch=master" alt="Build Status" /></a>
<img src="https://img.shields.io/github/last-commit/star-wars-vehicles/star-wars-vehicles-redux.svg" alt="" />
<a href="https://steamcommunity.com/sharedfiles/filedetails/?id=495762961"><img src="https://img.shields.io/steam/downloads/495762961.svg" alt="" /></a></p>

<p><a name="Installation"></a></p>

<h2>Installation</h2>

<p>Create a folder inside <code>addons</code> called anything you want (preferably something like &lsquo;swvr&rsquo;).</p>

<p>Place the contents of the <code>lua</code>, <code>materials</code>, <code>models</code>, and <code>sounds</code> folders inside.</p>

<p><a name="Creating_New_Vehicles"></a></p>

<h2>Creating New Vehicles</h2>

<p>Please refer to the main documentation for extensive details on creating new vehicles.</p>

<p>Here are some tips for creating them:</p>

<p><strong>Use a Folder</strong></p>

<p>If you can, please do not shove all your entity code in one file called <code>new_vehicle.lua</code>.</p>

<p>Instead, use a folder called <code>swvr_new_vehicle</code> with <code>init.lua</code>, <code>cl_init.lua</code>, and <code>shared.lua</code> files inside.</p>

<p>This makes it clearer what code can and will be executed on clients and/or the server.</p>

<p><strong>Prefix Entity Folder</strong></p>

<p>Please use the <code>swvr_</code> prefix before the name of your entity folder/file.</p>

<p>This prevents collisions with other vehicle addons that might also have Star Wars vehicles.</p>

<p><strong>Overriding Functions</strong></p>

<p>Please only ever override functions specified as meant to be in the documentation.</p>

<p>Overriding a base function could cause many problems. Even if the base doesn&rsquo;t appear to need it, in the future that can change!</p>

<p><a name="Configuration"></a></p>

<h2>Configuration</h2>

<p>Configuration of the basic settings of the ship.</p>

<p><strong>Basic Configuration</strong></p>

<p><strong>Flight Physics Configuration</strong></p>

<p><a name="Settings"></a></p>

<h2>Settings</h2>

<p>Settings allow clients and servers to customize vehicles.</p>

<p><strong>Adding Custom Settings</strong></p>

<p>This is currently being explored as an option for developers.</p>

<p><a name="Seats"></a></p>

<h2>Seats</h2>

<h3>Adding Seats</h3>

<p>There are current two ways to add seats to vehicles.</p>

<p>The first way is what I will refer to as the <em>hard-coded</em> way. This is manually specifying the seat details inside the <code>ENT.Seats</code> table inside of the <code>shared.lua</code> file.</p>

<p>The second way is the <em>dyanmic</em> way. This means adding the seats at run-time when the ship is initialized. This method should be used inside of the <code>ENT:OnInitialize()</code> method inside of the <code>init.lua</code> file.</p>

<p>You are allowed to mix these methods if you so desire. Note that any hard-coded seats will be registered before the dynamic seats.</p>

<p><strong>Hard-Coded</strong></p>

<pre>
ENT.Seats = {
  [<span class="string">"Pilot"</span>] = {
    Pos = Vector(-<span class="number">20</span>),
    Ang = Angle(<span class="number">0</span>, -<span class="number">90</span>, <span class="number">0</span>)
  }
}
</pre>


<p><strong>Dynamic</strong></p>

<pre>
<span class="keyword">function</span> ENT:OnInitialize()
  self:AddSeat(<span class="string">"Pilot"</span>, Vector(-<span class="number">20</span>), Angle(<span class="number">0</span>, -<span class="number">90</span>, <span class="number">0</span>))
<span class="keyword">end</span>
</pre>


<p><strong>NOTE: The first seat added will ALWAYS be considered the pilot seat, regardless of whether or not you call it pilot!</strong></p>

<p><a name="Weapons"></a></p>

<h2>Weapons</h2>

<h3>Adding Weapons</h3>

<p>Similar to seats, weapons can both be added using the same two ways.</p>

<p>The first way is what I will refer to as the <em>hard-coded</em> way. This is manually specifying the weapon details inside the <code>ENT.Weapons</code> table inside of the <code>shared.lua</code> file.</p>

<p>The second way is the <em>dyanmic</em> way. This means adding the weapons at run-time when the ship is initialized. This method should be used inside of the <code>ENT:OnInitialize()</code> method inside of the <code>init.lua</code> file.</p>

<p>You are allowed to mix these methods if you so desire. Note that any hard-coded weapons will be registered before the dynamic weapons.</p>

<p><strong>Hard-Coded</strong></p>

<pre>
ENT.Weapons = {
  [<span class="string">"Main"</span>] = {
    Pos = Vector(<span class="number">50</span>, -<span class="number">60</span>, <span class="number">0</span>),
    Callback = <span class="keyword">nil</span>
  }
}
</pre>


<p><strong>Dynamic</strong></p>

<pre>
<span class="keyword">function</span> ENT:OnInitialize()
  self:AddWeapon(<span class="string">"Main"</span>, Vector(<span class="number">50</span>, -<span class="number">60</span>, <span class="number">0</span>), <span class="keyword">nil</span>)
<span class="keyword">end</span>
</pre>


<h3>Using Weapons</h3>

<p>Using the added weapons are extremely easy. The built in function <code>ENT:FireWeapon(name, options)</code> is designed to be able to easily fire any weapon added, even custom firing functions.</p>

<p>Firing the weapon might look something like this.</p>

<pre>
<span class="keyword">function</span> ENT:PrimaryAttack()
  <span class="keyword">if</span> self:GetNextPrimaryFire() &gt; CurTime() <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span>

  self:SetNextPrimaryFire(CurTime() + <span class="number">0.1</span>)

  self:EmitSound(<span class="string">"AWING_FIRE1"</span>)

  <span class="keyword">for</span> _, name <span class="keyword">in</span> <span class="global">ipairs</span>({<span class="string">"FrontL"</span>, <span class="string">"FrontR"</span>}) <span class="keyword">do</span>
    self:FireWeapon(name)
  <span class="keyword">end</span>
<span class="keyword">end</span>
</pre>


<p>In this example, the second parameter <code>options</code> of <code>ENT:FireWeapon(name, options)</code> is ignored. This is usually alright if you're just firing a cannon.</p>

<p>Often times though, you'll want to customize the weapon you're firing. Use the <code>options</code> parameter to customize the weapon before firing it.</p>

<pre>
self:FireWeapon(<span class="string">"Main"</span>, {
  Type = <span class="string">"proton_torpedo"</span>,
  Damage = <span class="number">500</span>
})
</pre>


<p>Internally, the specific weapon firing function gets called by translating the <code>Type</code> field from <code>snake_case</code> to <code>CamelCase</code>.</p>

<p>In this case, <code>proton_torpedo</code> becomes <code>ProtonTorpedo</code> and thus the function <code>ENT:FireProtonTorpedo(name, options)</code> is automatically called for you!</p>

<p>Any options passed into <code>ENT;FireWeapon()</code> are also passed into the specific firing function automatically.</p>

<p><a name="Effects"></a></p>

<h2>Effects</h2>

<p>While not recommended, all of the effects on the vehicles can be completely overriden or disabled.</p>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2019-01-08 21:23:46 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
